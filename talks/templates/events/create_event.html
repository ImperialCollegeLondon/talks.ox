{% extends "base.html" %}
{% load bootstrap %}
{% load staticfiles %}

{% block title %}Create Event{% endblock %}

{% block extrahead %}
<script src="{% static "js/create-event.js"%}"></script>

<!-- Date picker -->
<link href="{% static "css/bootstrap-datetimepicker.css"%}" rel="stylesheet">

<script src="{% static "js/bootstrap-datetimepicker.js"%}"></script>
{% endblock extrahead %}

{% block content %}

<h1>Add Talk</h1>
<form class="form-horizontal" action="{% url 'create-event' %}" method="post">{% csrf_token %}
    {{ event_group_form.enabled|bootstrap_horizontal }}
    {% with select_radio=event_group_form.select_create.0 form_radio=event_group_form.select_create.1 %}
    <div class="event-group" {% if not event_group_form.show_form %}style="display: none;"{% endif %}>
        <div class="event-group-select panel panel-default">
            <div class="panel-heading">
                <label for="{{ select_radio.id_for_label }}">
                    {{ select_radio.tag }}
                    {{ select_radio.choice_label }}
                </label>
            </div>
            <div class="panel-body">
                {{ event_group_form.event_group_select|bootstrap_horizontal }}
            </div>
        </div>
        <div class="event-group-create panel panel-default">
            <div class="panel-heading">
                <label for="{{ form_radio.id_for_label }}">
                    {{ form_radio.tag }}
                    {{ form_radio.choice_label }}
                </label>
            </div>
            <div class="panel-body" {% if not event_group_form.show_create_form %}style="display: none;"{% endif %}>
                {{ event_group_form.title|bootstrap_horizontal }}
                {{ event_group_form.description|bootstrap_horizontal }}
            </div>
        </div>
        <hr>
    </div>
    {% endwith %}

    {{ event_form.title|bootstrap_horizontal }}

    <div class="form-group">
        <label class="control-label col-sm-2 col-lg-2 " for="id_event-start">Start</label>
        <div class="col-sm-10 col-lg-10 ">
            <div class="input-group">
                <span class="input-group-btn">
                    <button class="btn btn-default js-open-calendar" type="button"><span class="glyphicon glyphicon-calendar"></span></button>
                </span>
                <input class="js-datetimepicker event-start form-control" id="id_event-start" name="event-start" readonly="True" type="text">
            </div>

        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-2 col-lg-2 " for="id_event-end">End</label>
        <div class=" col-sm-10 col-lg-10 ">
            <div class="input-group">
                <span class="input-group-btn">
                    <button class="btn btn-default js-open-calendar" type="button"><span class="glyphicon glyphicon-calendar"></span></button>
                </span>
                <input class="js-datetimepicker event-end form-control" id="id_event-end" name="event-end" readonly="True" type="text">
            </div>
        </div>
    </div>

    {{ event_form.description|bootstrap_horizontal }}
    {{ event_form.speakers|bootstrap_horizontal }}
    {{ event_form.location|bootstrap_horizontal }}

    <div class="form-group">
        <div class="col-sm-2 col-lg-2">
        </div>
        <div class="col-sm-10 col-lg-10">
            <button type="submit" name="another" value="true" class="btn btn-default">
                <span class="glyphicon glyphicon-plus"></span>
                Save and add another Talk
            </button>
            <button type="submit" class="btn btn-primary">Done</button>
        </div>
    </div>
</form>
{% endblock %}
